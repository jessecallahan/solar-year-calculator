{"version":3,"sources":["services/firebase.js","components/Header.js","components/Footer.js","pages/Home.js","pages/Chat.js","pages/Signup.js","helpers/auth.js","pages/Login.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","auth","db","database","Header","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","currentUser","onClick","signOut","Footer","HomePage","Component","Chat","props","handleDelete","console","log","newChats","state","chats","filter","user","setState","selectedKeg","handleChangingSelectedChat","masterKegList","keg","content","readError","writeError","loadingChats","handleChange","bind","handleSubmit","myRef","React","createRef","this","chatArea","current","ref","on","snapshot","forEach","snap","push","val","sort","a","b","timestamp","scrollBy","scrollHeight","error","message","event","target","value","preventDefault","Date","now","uid","d","getDate","getMonth","getFullYear","getHours","getMinutes","role","map","chat","key","formatTime","onSubmit","name","onChange","email","SignUp","password","createUserWithEmailAndPassword","placeholder","Login","signInWithEmailAndPassword","autoComplete","PrivateRoute","component","authenticated","rest","render","pathname","from","location","PublicRoute","App","loading","onAuthStateChanged","exact","path","Home","Signup","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f697b55.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nconst config = {\n  apiKey: \"AIzaSyAe_aqN6SBhE2TvfAg97fRVL6ll0WbVLBU\",\n  authDomain: \"chat-app-30e07.firebaseapp.com\",\n  databaseURL: \"https://chat-app-30e07.firebaseio.com\"\n};\n\nfirebase.initializeApp(config);\n\nexport const auth = firebase.auth;\nexport const db = firebase.database();","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { auth } from '../services/firebase';\n\nfunction Header() {\n  return (\n    <header>\n      <nav className=\"navbar navbar-expand-sm fixed-top navbar-light bg-light\">\n        <Link className=\"navbar-brand\" to=\"/\">Fireside Chat</Link>\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavAltMarkup\">\n          {auth().currentUser\n            ? <div className=\"navbar-nav\">\n              <Link className=\"nav-item nav-link mr-3\" to=\"/chat\">Profile</Link>\n              <button className=\"btn btn-primary mr-3\" onClick={() => auth().signOut()}>Logout</button>\n            </div>\n            : <div className=\"navbar-nav\">\n              <Link className=\"nav-item nav-link mr-3\" to=\"/login\">Sign In</Link>\n              <Link className=\"nav-item nav-link mr-3\" to=\"/signup\">Sign Up</Link>\n            </div>}\n        </div>\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"pt-5\">\n      <div className=\"container text-center\">\n        <p>&copy; Chatty 2020.</p>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer;","import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { Link } from 'react-router-dom';\n\nexport default class HomePage extends Component {\n  render() {\n    return (\n      <div className=\"home\">\n        <Header></Header>\n        <section>\n          <div className=\"jumbotron jumbotron-fluid py-5\">\n            <div className=\"container text-center py-5\">\n              <h1 className=\"display-4\">Welcome to Chatty</h1>\n              <p className=\"lead\">A great place to share your thoughts with friends</p>\n              <div className=\"mt-4\">\n                <Link className=\"btn btn-primary px-5 mr-3\" to=\"/signup\">Create New Account</Link>\n                <Link className=\"btn px-5\" to=\"/login\">Login to Your Account</Link>\n              </div>\n            </div>\n          </div>\n        </section>\n        <Footer></Footer>\n      </div>\n    )\n  }\n}","import React, { Component } from \"react\";\nimport Header from \"../components/Header\";\nimport { auth } from \"../services/firebase\";\nimport { db } from \"../services/firebase\";\n\nexport default class Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: auth().currentUser,\n      chats: [],\n      content: '',\n      readError: null,\n      writeError: null,\n      loadingChats: false,\n      selectedKeg: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.myRef = React.createRef();\n  }\n\n  async componentDidMount() {\n    this.setState({ readError: null, loadingChats: true });\n    const chatArea = this.myRef.current;\n    try {\n      db.ref(\"chats\").on(\"value\", snapshot => {\n        let chats = [];\n        snapshot.forEach((snap) => {\n          chats.push(snap.val());\n        });\n        chats.sort(function (a, b) { return a.timestamp - b.timestamp })\n        this.setState({ chats });\n        chatArea.scrollBy(0, chatArea.scrollHeight);\n        this.setState({ loadingChats: false });\n      });\n    } catch (error) {\n      this.setState({ readError: error.message, loadingChats: false });\n    }\n  }\n\n  handleChange(event) {\n    this.setState({\n      content: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    this.setState({ writeError: null });\n    const chatArea = this.myRef.current;\n    try {\n      await db.ref(\"chats\").push({\n        content: this.state.content,\n        timestamp: Date.now(),\n        uid: this.state.user.uid\n      });\n      this.setState({ content: '' });\n      chatArea.scrollBy(0, chatArea.scrollHeight);\n    } catch (error) {\n      this.setState({ writeError: error.message });\n    }\n  }\n\n  formatTime(timestamp) {\n    const d = new Date(timestamp);\n    const time = `${d.getDate()}/${(d.getMonth() + 1)}/${d.getFullYear()} ${d.getHours()}:${d.getMinutes()}`;\n    return time;\n  }\n\n  handleDelete = () => {\n    console.log(\"delte\")\n    const newChats = this.state.chats.filter(user => user.id !== user.id);\n    this.setState({\n      chats: newChats,\n      selectedKeg: null\n    });\n  }\n  handleChangingSelectedChat = (id) => {\n    const selectedKeg = this.state.masterKegList.filter(keg => keg.id === id)[0];\n    this.setState({ selectedKeg: selectedKeg });\n  }\n  render() {\n    return (\n      <div>\n        <Header />\n\n        <div className=\"chat-area\" ref={this.myRef}>\n          {/* loading indicator */}\n          {this.state.loadingChats ? <div className=\"spinner-border text-success\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div> : \"\"}\n          {/* chat area */}\n          {this.state.chats.map(chat => {\n            return <p key={chat.timestamp} className={\"chat-bubble \" + (this.state.user.uid === chat.uid ? \"current-user\" : \"\")}>\n              {chat.content}\n              <br />\n              <span className=\"chat-time float-right\">{this.formatTime(chat.timestamp)}</span><span onClick={this.handleChangingSelectedChat} onClick={this.handleDelete}>Delete chat</span>\n            </p>\n          })}\n        </div>\n        <form onSubmit={this.handleSubmit} className=\"mx-3\">\n          <textarea className=\"form-control\" name=\"content\" onChange={this.handleChange} value={this.state.content}></textarea>\n          {this.state.error ? <p className=\"text-danger\">{this.state.error}</p> : null}\n          <button type=\"submit\" className=\"btn btn-submit px-5 mt-4\">Send</button>\n        </form>\n        <div className=\"py-5 mx-3\">\n          Login in as: <strong className=\"text-info\">{this.state.user.email}</strong>\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { signup } from '../helpers/auth';\n\nexport default class SignUp extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      email: '',\n      password: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    this.setState({ error: '' });\n    try {\n      await signup(this.state.email, this.state.password);\n    } catch (error) {\n      this.setState({ error: error.message });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <h1>\n            Sign Up to\n          <Link to=\"/\">Chatty</Link>\n          </h1>\n          <p>Fill in the form below to create an account.</p>\n          <div>\n            <input placeholder=\"Email\" name=\"email\" type=\"email\" onChange={this.handleChange} value={this.state.email}></input>\n          </div>\n          <div>\n            <input placeholder=\"Password\" name=\"password\" onChange={this.handleChange} value={this.state.password} type=\"password\"></input>\n          </div>\n          <div>\n            {this.state.error ? <p>{this.state.error}</p> : null}\n            <button type=\"submit\">Sign up</button>\n          </div>\n          <hr></hr>\n          <p>Already have an account? <Link to=\"/login\">Login</Link></p>\n        </form>\n      </div>\n    )\n  }\n}","import { auth } from \"../services/firebase\";\n\nexport function signup(email, password) {\n  return auth().createUserWithEmailAndPassword(email, password);\n}\n \nexport function signin(email, password) {\n  return auth().signInWithEmailAndPassword(email, password);\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { signin } from \"../helpers/auth\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      email: \"\",\n      password: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    this.setState({ error: \"\" });\n    try {\n      await signin(this.state.email, this.state.password);\n    } catch (error) {\n      this.setState({ error: error.message });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <form\n          autoComplete=\"off\"\n          onSubmit={this.handleSubmit}\n        >\n          <h1>\n            Login to\n            <Link to=\"/\">\n              Chatty\n            </Link>\n          </h1>\n          <p>\n            Fill in the form below to login to your account.\n          </p>\n          <div>\n            <input\n              placeholder=\"Email\"\n              name=\"email\"\n              type=\"email\"\n              onChange={this.handleChange}\n              value={this.state.email}\n            />\n          </div>\n          <div>\n            <input\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={this.handleChange}\n              value={this.state.password}\n              type=\"password\"\n            />\n          </div>\n          <div>\n            {this.state.error ? (\n              <p>{this.state.error}</p>\n            ) : null}\n            <button type=\"submit\">Login</button>\n          </div>\n          <hr />\n          <p>\n            Don't have an account? <Link to=\"/signup\">Sign up</Link>\n          </p>\n        </form>\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Chat from \"./pages/Chat\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport { auth } from \"./services/firebase\";\nimport './styles.css';\n\nfunction PrivateRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated === true ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{ pathname: \"/login\", state: { from: props.location } }}\n            />\n          )\n      }\n    />\n  );\n}\n\nfunction PublicRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated === false ? (\n          <Component {...props} />\n        ) : (\n            <Redirect to=\"/chat\" />\n          )\n      }\n    />\n  );\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      authenticated: false,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          authenticated: true,\n          loading: false\n        });\n      } else {\n        this.setState({\n          authenticated: false,\n          loading: false\n        });\n      }\n    });\n  }\n\n  render() {\n    return this.state.loading === true ? (\n      <div className=\"spinner-border text-success\" role=\"status\">\n        <span className=\"sr-only\">Loading...</span>\n      </div>\n    ) : (\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <PrivateRoute\n              path=\"/chat\"\n              authenticated={this.state.authenticated}\n              component={Chat}\n            />\n            <PublicRoute\n              path=\"/signup\"\n              authenticated={this.state.authenticated}\n              component={Signup}\n            />\n            <PublicRoute\n              path=\"/login\"\n              authenticated={this.state.authenticated}\n              component={Login}\n            />\n          </Switch>\n        </Router>\n      );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}